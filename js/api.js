!function(){var e=angular.module("api",["angularSpinner"]);e.directive("searchDemo",function(){return{restrict:"E",templateUrl:"search.html"}}),e.controller("SearchController",["$http","$scope","usSpinnerService",function(e,r,s){r.api_uri="https://api.gettyimages.com/v3",r.request={phrase:"puppies",fields:"id,title,thumb,referral_destinations",sort_order:"best"},r.sort_orders=["best","most_popular","newest"],r.resources=[{name:"Search for Images",path:"/search/images"},{name:"Search for Videos",path:"/search/videos"}],r.selected_resource={path:"/search/images"},r.apirequest=function(){return"/search/images"===r.selected_resource.path?(r.request.fields="id,title,thumb,referral_destinations",r.request.hasOwnProperty("sort_order")||(r.request.sort_order="best")):"/search/videos"===r.selected_resource.path&&(delete r.request.sort_order,r.request.fields="id,title,thumb"),"GET "+r.api_uri+r.selected_resource.path+"?"+t(r.request)},r.send=function(){r.startSpin();var s={method:"GET",url:r.api_uri+r.selected_resource.path,headers:{"Api-Key":"697wgfynhw53p7fzsw7dbder"},params:r.request};e(s).success(function(e,s,t,o){r.stopSpin(),r.apiresponse=e,r.responsecode=s}).error(function(e,s,t,o){r.stopSpin(),r.apiresponse=e,r.responsecode=s})},r.startSpin=function(){s.spin("spinner-1"),r.startcounter++},r.stopSpin=function(){s.stop("spinner-1")};var t=function(e){e.phrase||delete e.phrase,e.sort_order||delete e.sort_order;var r=[];for(key in e)r.push(key+"="+e[key]);return r.join("&")}}])}();