<div ng-controller="SearchController as search" class="search">
 <h3>Parameters</h3>
  <div class="form">
    <form ng-submit="send()">
      <label ng-repeat="resource in resources">
        <input type="radio" name="resource" ng-value="resource.path" ng-model="selected_resource.path" /> {{ resource.name }}
      </label>
     
      <table>
        <thead>
          <th>
            Parameter
          </th>
          <th>
            Value
          </th>
          <th>
            Description
          </th>
        </thead>
        <tr>
          <td>
            phrase
          </td>
          <td>
            <input type="text" ng-model="request.phrase" />
          </td>
          <td>
            Free-text search query
          </td>
        </tr>
        <tr ng-show="request.sort_order">
          <td>
            sort_order
          </td>
          <td>
            <select ng-model="request.sort_order" ng-options="sort for sort in sort_orders"></select>
          </td>
          <td>
            Allows sorting of results
          </td>
        </tr>
      </table>
      <input class="button-black" type="submit" value="Search" />
    </form>
    <span us-spinner="{radius:10, width:4, length: 10}" spinner-key="spinner-1" style="position: relative; top: 50%; left: 50%"></span>

    <div class="request">
      <h3>Request</h3>
      <pre>@{{ apirequest() }}</pre>
    </div>
    <h3>Response</h3><b>Status: {{ responsecode }}</b>
    <div class="response">
      <pre ng-hide="isLoading">{{ apiresponse | json }}</pre>
    </div>
    <h3>Formatted Response</h3>
    <div class="formatted-response">
      <div ng-repeat="image in apiresponse.images" ng-hide="isLoading" class="images">
        <div class="item">
          <a href="{{image.referral_destinations[0].uri}}" target="_blank">
            <img ng-src="{{ image.display_sizes[0].uri }}" />
          </a>
          <span>{{ image.title }}</span>
        </div>
      </div>
      <div ng-repeat="video in apiresponse.videos" ng-hide="isLoading" class="images">
        <div class="item">
          <a href="{{ video.display_sizes[1].uri }}" target="_blank">
            <img ng-src="{{ video.display_sizes[0].uri }}">
          </a>
          <span>{{ video.title }}</span>
        </div>
      </div>
    </div>
  </div>
